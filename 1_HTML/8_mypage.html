<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        li {
            list-style: none;
            margin-top: 15px;
        }

        #grid1 {
            height: 90vh;
            width: 30vw;
        }

        #grid1-1 {
            height: 80vh;
        }

        #grid2 {
            height: 90vh;
            width: 65vw;
        }

        #logo {
            width: 5vh;
        }
    </style>
</head>

<body>
    <!-- navigation bar -->
    <nav class="navbar navbar-expand-lg" style="background-color: rgba(100,100,100,0.1);">
        <div class="container-fluid mb-3">
            <a class="navbar-brand" href="#"><img class="logo" src="./source/img/TRaM_logo.png"
                    style="width: 50px; height:50px;" alt="이미지" id="logoMain"></a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto">
                </ul>
                <div class="slider-container mt-3" style="width:10%; margin-right:650px;">
                    <div class="slider-content" id="realKeyword">
                    </div>
                </div>
                <form class="d-flex mt-3" role="search">
                    <button class="btn mx-1" style="font-weight:700; font-size:15px;" type="button" style="width: 2vw;"
                        id="wishlist">찜</button>
                    <button class="btn mx-1" style="font-weight:700; font-size:15px;" type="button" style="width: 5vw;"
                        id="mytrip">마이트립</button>
                    <button class="btn mx-1" style="font-weight:700; font-size:15px;" type="button" style="width: 5vw;"
                        id="login">로그인</button>
                </form>
            </div>
        </div>
    </nav>
    <div class="row justify-content-center mt-5">
        <div class="col-4 mx-5 border border-5 p-5" style="border-radius: 10px;">
            <h3 class="ms-3 fw-bold p-2">내 정보</h3>
            <div class="row card" id="myPage">
            </div>
            <hr width="100%" color="black">
            <div>
                <label>더 이상 여정 계획이 없으신가요?</label>
                <a href="#" id="resign">회원 탈퇴</a>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./source/out_link/Util.js"></script>
    <script>
        // 로그인된 사용자 계정 정보 가져옴
        let loginUser = getLoginAccount();

        // 마이페이지 화면
        const logoMain = document.querySelector("#logoMain");
        logoMain.addEventListener("click", function () {
            window.open("index.html", "_self");
        });
        const login = document.querySelector("#login");
        login.addEventListener("click", function () {
            window.open("2_login.html", "_self");
        });
        const wishlist = document.querySelector("#wishlist");
        wishlist.addEventListener("click", function () {
            window.open("5_wishlist.html", "_self");
        });
        const mytrip = document.querySelector("#mytrip");
        mytrip.addEventListener("click", function () {
            window.open("6-1_ActivityTransFood_reservation.html", "_self");
        });
        const resign = document.querySelector("#resign");
        resign.addEventListener("click", function() {
            window.open("9_resign.html", "_self");
        })

        // 로그인한 회원의 내정보 볼수있는 코딩
        const myPage = document.querySelector("#myPage");
     
            let card = document.createElement("div");
            card.classList.add("row");

            card.innerHTML = `
                <p>유저 넘버: ${loginUser.User_no}</p>
                <p>유저 아이디: ${loginUser.User_id}</p>
                <p>유저 비밀번호: ${loginUser.User_pw}</p>
                <p>유저 닉네임: ${loginUser.User_nickName}</p>
                <p>유저 상태: ${loginUser.User_status}</p>
                <p>유저 권한: ${loginUser.User_type}</p>
                `;
                myPage.appendChild(card);

                 // 로그인 여부에 따라 우측 상단 로그인 버튼 문구 교체
                 OnLogin();



        function OnLogin() {
            if (loginUser == null) {
                login.textContent = "로그인";
            } else {
                login.textContent = "로그아웃";
            }
        }
    </script>
</body>

</html>