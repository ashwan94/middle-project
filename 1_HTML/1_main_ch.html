<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRaM 을 타고 여행을 떠나요</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./source/out_link/rolling.css">
    <style>
        .p1 {
            margin-top: 10px;
        }

        .login {
            margin-top: 10px;
        }

        .menu {
            margin-top: 20px;
        }

        .search {
            margin-top: 20px;
        }

        .tri {
            width: 100px;
        }

        a {
            color: #333
        }

        .gif {
            background-image: url("./source/img/sample/unnamed.gif");
            background-repeat: no-repeat;
            background-position: 60%;
            background-size: cover;
            height: 500px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-white">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="./source/img/TRaM_logo.png" class="logo" alt="로고"
                    style="width:50px;"></a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item" style="margin-left: 650px;">
                        <a class="nav-link" href="#">실시간 인기 검색어</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <button class="btn btn-outline-success" type="button" style="width: 2vw;"
                        id="wishlist">찜</button>
                    <button class="btn btn-outline-success" type="button" style="width: 5vw;"
                        id="mytrip">마이트립</button>
                    <button class="btn btn-outline-success" type="button" style="width: 5vw;" id="login">로그인</button>
                </form>
            </div>
        </div>
    </nav>
        <div class="gif">
            <div class="card bg-light text-center w-75 position-absolute top-50 start-50 translate-middle" style="border-radius: 10px;">
                <div class="container p-4">
                    <div class="row search m-1">
                        <div class="col">
                            <input type="text" style="border-radius: 10px;" class="col border border-1 bg-white w-100 h-100" placeholder="검색">
                        </div>
                        <label class="col border border-1 bg-white p-1" style="border-radius: 10px;">
                            <input type="date" id="departDate">
                            <input type="date" id="arriveDate">
                        </label>
                        <div class="col">
                            <select class="form-control" style="border-radius: 10px;">
                                <option value="1">인원</option>
                                <option value="2">1</option>
                            </select>
                        </div>
                        <button class="col-1 btn btn-outline-success" id="searchBtn">검색</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row menu" style="text-align: center;">
            <a href="#" class="col-3"><img src="./source/img/sample/sample_hotel.png" style="width: 200px; height:200px; border-radius: 10px;"
                    id="hotel">
                <p>숙박</p>
            </a>
            <a href="#" class="col-3"><img src="./source/img/sample/sample_trans.png" style="width: 200px; height:200px; border-radius: 10px;"
                    id="trans">
                <p>교통</p>
            </a>
            <a href="#" class="col-3"><img src="./source/img/sample/sample_activity.png" style="width: 200px; height:200px; border-radius: 10px;"
                    alt="액티비티" id="activity">
                <p>액티비티</p>
            </a>
            <a href="#" class="col-3"><img src="./source/img/sample/sample_restaurant.png" style="width: 200px; height:200px; border-radius: 10px;"
                    id="food">
                <p>음식점</p>
            </a>
        </div>
        <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="./source/img/sample/img_slide1.png" class="d-block w-25" style="border-radius: 10px;" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="./source/img/sample/img_slide2.png" class="d-block w-25" style="border-radius: 10px;" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="./source/img/sample/img_slide3.png" class="d-block w-25" style="border-radius: 10px;" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div class="wrap"> <!-- 배너표시영역 -->
            <div class="rolling-list"> <!-- 원본배너 -->
                <ul>
                    <li>
                        <div class="image-wrap"><a href="#"><img src="./source/img/wish_on.png" alt=""></div>
                        <div class="desc">
                            <strong>First Banner</strong>
                            <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                                Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                                Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                        </div>
                    </li>
                    <li>
                        <div class="image-wrap"><a href="#"><img src="./source/img/wish_off.png" alt=""></div>
                        <div class="desc">
                            <strong>Second Banner</strong>
                            <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                                Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                                Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                        </div>
                    </li>
                    <li>
                        <div class="image-wrap"><a href="#"><img src="./source/img/wish_on.png" alt=""></div>
                        <div class="desc">
                            <strong>Third Banner</strong>
                            <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                                Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                                Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                        </div>
                    </li>
                    <li>
                        <div class="image-wrap"><a href="#"><img src="./source/img/wish_off.png" alt=""></div>
                        <div class="desc">
                            <strong>Fourth Banner</strong>
                            <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                                Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                                Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./source/out_link/Util.js"></script>
    <script>
        // ----------------------- 롤링 배너 구현 -----------------------
        // 롤링 배너 복제본 생성
        let roller = document.querySelector('.rolling-list');
        roller.id = 'roller1'; // 아이디 부여

        let clone = roller.cloneNode(true)
        // cloneNode : 노드 복제. 기본값은 false. 자식 노드까지 복제를 원하면 true 사용
        clone.id = 'roller2';
        document.querySelector('.wrap').appendChild(clone); // wrap 하위 자식으로 부착

        document.querySelector('#roller1').style.left = '0px';
        document.querySelector('#roller2').style.left = document.querySelector('.rolling-list ul').offsetWidth + 'px';
        // offsetWidth : 요소의 크기 확인(margin을 제외한 padding값, border값까지 계산한 값)
        roller.classList.add('original');
        clone.classList.add('clone');
    </script>

    <script>
        // ----------------------- 1_main 기능 구현 -----------------------
        // 로그인된 사용자의 계정 정보
        let loginUser = getLoginAccount();
        
        // 메인화면
        const login = document.querySelector("#login");
        LoginAndOut(login);
        OnLogin();
        
        const hotel = document.querySelector("#hotel");
        hotel.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = {"check" : [{"say" : "hotel"}]};
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });
    // TODO 추후에 액티비티 지역 설정 페이지 필요
    const activity = document.querySelector("#activity");
        activity.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = {"check" : [{"say" : "activity"}]};
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });
        const trans = document.querySelector("#trans");
        trans.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = {"check" : [{"say" : "trans"}]};
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });
        const food = document.querySelector("#food");
        food.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = {"check" : [{"say" : "food"}]};
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });
        const wishlist = document.querySelector("#wishlist");
        wishlist.addEventListener("click", function () {
            window.open("5_wishlist.html", "_self");
        });
        const mytrip = document.querySelector("#mytrip");
        mytrip.addEventListener("click", function () {
            window.open("6-1_ActivityTransFood_reservation.html", "_self");
        });
        const searchBtnEl = document.querySelector("#searchBtn");
        searchBtnEl.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = {"check" : [{"say" : "hotel activity trans food"}]};
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        })


        // 로그인 여부에 따라 우측 상단 로그인 버튼 문구 교체
        function OnLogin() {
            if (loginUser == null) {
                login.textContent = "로그인";
            } else {
                login.textContent = "로그아웃";
            }
        }

    </script>
</body>

</html>