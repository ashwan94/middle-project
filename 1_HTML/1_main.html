<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRaM 을 타고 여행을 떠나요</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./source/out_link/rolling.css">
    <link rel="stylesheet" href="./source/out_link/design.css">
    <style>
        .p1 {
            margin-top: 10px;
        }

        .login {
            margin-top: 10px;
        }

        .menu {
            margin-top: 20px;
        }

        .search {
            margin-top: 20px;
        }

        .tri {
            width: 100px;
        }

        .gif {
            background-image: url("./source/img/sample/unnamed.gif");
            background-repeat: no-repeat;
            background-position: 30%;
            background-size: cover;
            height: 500px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary m-3">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="./source/img/TRaM_logo.png" class="logo" alt="로고"
                    style="width:50px;"></a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item" style="margin-left: 650px;">
                        <a class="nav-link" href="#">실시간 인기 검색어</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <button class="btn btn-outline-success border-danger text-danger" type="button" style="width: 2vw;"
                        id="wishlist">찜</button>
                    <button class="btn btn-outline-success border-danger text-danger" type="button" style="width: 5vw;"
                        id="mytrip">마이트립</button>
                    <button class="btn btn-outline-success" type="button" style="width: 5vw;" id="login">로그인</button>
                </form>
            </div>
        </div>
    </nav>
    <div class="gif">
        <div class="card bg-light text-center w-75 position-absolute top-50 start-50 translate-middle"
            style="border-radius: 10px;">
            <div class="container p-4">
                <div class="row search m-1">
                    <div class="col">
                        <input type="text" style="border-radius: 10px; font-size:20px;"
                            class="border border-1 bg-white w-100 h-100 ms-3 me-3" placeholder="검색" id="keyword">
                    </div>
                    <label class="col border border-1 bg-white p-1" style="border-radius: 10px;">
                        <input type="date" class="border-0 mt-2" id="departDate">
                        <input type="date" class="border-0" id="arriveDate">
                    </label>
                    <div class="col">
                        <div style="margin-left: 1rem;">
                            <label>인원</label>
                            <button class="btn bg-primary" id="decreaseBtn">-</button>
                            <input class="text-center border-0" id="personCount" type="text" value="1"
                                style="width: 2rem;">
                            <button class="btn bg-primary rounded" id="increaseBtn">+</button>
                        </div>
                    </div>
                    <button class="col-1 btn btn-outline-success mt-2" style="height:50px;" id="searchBtn">검색</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row menu" style="text-align: center;">
        <a href="#" class="col-3"><img src="./source/img/sample/sample_hotel.png"
                style="width: 200px; height:200px; border-radius: 10px;" id="hotel">
            <p>숙박</p>
        </a>
        <a href="#" class="col-3"><img src="./source/img/sample/sample_trans.png"
                style="width: 200px; height:200px; border-radius: 10px;" id="trans">
            <p>교통</p>
        </a>
        <a href="#" class="col-3"><img src="./source/img/sample/sample_activity.png"
                style="width: 200px; height:200px; border-radius: 10px;" alt="액티비티" id="activity">
            <p>액티비티</p>
        </a>
        <a href="#" class="col-3"><img src="./source/img/sample/sample_restaurant.png"
                style="width: 200px; height:200px; border-radius: 10px;" id="food">
            <p>음식점</p>
        </a>
    </div>
    <div id="carouselExample" class="carousel slide">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./source/img/sample/img_slide1.png" class="d-block w-25" style="border-radius: 10px;"
                    alt="...">
            </div>
            <div class="carousel-item">
                <img src="./source/img/sample/img_slide2.png" class="d-block w-25" style="border-radius: 10px;"
                    alt="...">
            </div>
            <div class="carousel-item">
                <img src="./source/img/sample/img_slide3.png" class="d-block w-25" style="border-radius: 10px;"
                    alt="...">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="wrap"> <!-- 배너표시영역 -->
        <div class="rolling-list"> <!-- 원본배너 -->
            <ul>
                <li>
                    <div class="image-wrap"><a href="#"><img src="./source/img/wish_on.png" alt=""></div>
                    <div class="desc">
                        <strong>First Banner</strong>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                            Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                            Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                    </div>
                </li>
                <li>
                    <div class="image-wrap"><a href="#"><img src="./source/img/wish_off.png" alt=""></div>
                    <div class="desc">
                        <strong>Second Banner</strong>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                            Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                            Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                    </div>
                </li>
                <li>
                    <div class="image-wrap"><a href="#"><img src="./source/img/wish_on.png" alt=""></div>
                    <div class="desc">
                        <strong>Third Banner</strong>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                            Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                            Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                    </div>
                </li>
                <li>
                    <div class="image-wrap"><a href="#"><img src="./source/img/wish_off.png" alt=""></div>
                    <div class="desc">
                        <strong>Fourth Banner</strong>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.<br />
                            Neque cumque ratione provident nulla veniam nihil quaerat, illum officiis hic.<br />
                            Laborum in eos possimus, quo ullam nobis nam nemo fuga ipsam?</span></a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div></div>
    </div>
    <!-- footer 회사 정보 등 -->
    <footer style="background-color: rgb(250,250,250);" class="foot p-5">
        <div class="row ms-3">
            <div class="col-1"></div>
            <div class="col-5">
                <div class="mb-1" style="font-size:18px; font-weight: bolder;">고객센터</div>
                <div style="font-size:14px; font-weight: 200;">오전 9시 ~ 새벽 3시 운영</div>
                <!-- // TODO 전화번호 옆에 전화기 아이콘 삽입하기. Font Awesome 에서 찾아보라고 함 -->
                <div class="btn btn-outline-secondary mt-3"><i class="bi bi-phone"></i>1677-6290</div>
                <div class="btn btn-outline-secondary mt-3 ms-3">카톡 문의</div>
            </div>
            <div class="col-1">
                <div style="font-size:18px; font-weight: bolder;">회사</div>
                <div class="mt-1">
                    <a href="https://www.nextit.or.kr/origin.html"
                        style="font-size:14px; font-weight: 400; color:grey;">회사 소개</a>
                </div>
            </div>
            <div class="col-1">
                <div style="font-size:18px; font-weight: bolder;">서비스</div>
                <div class="mt-1">
                    <a href="https://www.nextit.or.kr/origin.html"
                        style="font-size:14px; font-weight: 400; color:grey;">공지사항</a>
                </div>
                <div class="mt-1">
                    <a href="https://www.nextit.or.kr/origin.html"
                        style="font-size:14px; font-weight: 400; color:grey;">FAQ</a>
                </div>
            </div>
            <div class="col-1">
                <div style="font-size:18px; font-weight: bolder;">혜택</div>
                <a href="https://www.nextit.or.kr/origin.html"
                    style="font-size:14px; font-weight: 400; color:grey;">마일리지 사용</a>
                <div class="mt-1">
                    <a href="https://www.nextit.or.kr/origin.html"
                        style="font-size:14px; font-weight: 400; color:grey;">VIP 라운지</a>
                </div>
                <div class="mt-1">
                    <a href="https://www.nextit.or.kr/origin.html"
                        style="font-size:14px; font-weight: 400; color:grey;">쿠폰 사용 안내</a>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-1"></div>
            <div class="col ms-4 mt-4" style="font-size:11px;">
                <span>
                    (주)트램<br>
                    주소 : 대전 중구 계룡로 825 희영빌딩 2층 넥스트아이티교육센터 현관비밀번호:0909 | 대표이사 : 안승환 | 사업자등록번호 : 713-26-00858
                    <a href="https://bizno.net/article/7132600858" style="font-weight: 700;">사업자정보확인</a><br>
                    전자우편주소 : letmeknow@tram.co.kr | 통신판매번호 : 2021-중국심천-0019 | 관광사업자 등록번호 : 제1025-24호 | 전화번호 : 1677-6290
                    | 호스팅서비스제공자에 상호 표시 : (주)트램<br>
                    (주)트램은 통신중개판매자로서 통신판매의 당사자가 아니며, 상품의 예약, 이용 및 환불 등과 관련된 의무와 책임은 각 판매자에게 있으므로 저희에게 제발 연락하지 말아주세요.
                </span>
            </div>
        </div>
        <div class="row mt-3 ms-3">
            <div class="col-1"></div>
            <span class="col-1" style="font-size:11px;">
                <a href="#">이용 약관</a>
            </span>
            <span class="col-1" style="font-size:11px;">
                <a href="#" style="font-weight: 700;">개인정보처리방침</a>
            </span>
            <span class="col-1 ms-3" style="font-size:11px;">
                <a href="#">소비자 분쟁해결 기준</a>
            </span>
            <span class="col-2 ms-4" style="font-size:11px;">
                <a href="#">콘텐츠산업진흥법에 의한 표시</a>
            </span>
        </div>
        <div class="row mt-5 ms-3">
            <div class="col-1"></div>
            <div class="col-3" style="font-size: 11px;">Copyright TRaM Company Corp. All rights reserved.<br>Therefore
                if you try to copy ours, we never negociate.</div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./source/out_link/Util.js"></script>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js"
        charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
        //  ---------------------- 네이버 로그인 callback url----------------------------
        var naver_id_login = new naver_id_login("QPJAZvitp4r_uyBekVmj", "http://192.168.0.175:5500/1_HTML/1_main.html");

        // 네이버 사용자 프로필 조회
        naver_id_login.get_naver_userprofile("naverSignInCallback()");

        // 접근 토큰 값 출력
        let token = naver_id_login.oauthParams.access_token;
        console.log(`가져온 토큰 => ${token}`);

        // 네이버 로그인 callback 함수
        function naverSignInCallback() {

            // 네이버 사용자 프로필 정보 가져오기
            var email = naver_id_login.getProfileData('email');
            var nickname = naver_id_login.getProfileData('nickname');

            var userData = JSON.parse(localStorage.getItem('TRaM'));

            // 새로운 사용자 정보 추가
            userData.Users.push({
                "User_no": userData.Users.length,
                "User_id": email,
                "User_pw": "*********",
                "User_nickName": nickname,
                "User_status": "Y",
                "User_type": "G"
            });

            // 로컬 스토리지에 데이터 저장
            localStorage.setItem('TRaM', JSON.stringify(userData));
        }
    </script>
    <script>
        // ----------------------- 롤링 배너 구현 -----------------------
        // 롤링 배너 복제본 생성
        let roller = document.querySelector('.rolling-list');
        roller.id = 'roller1'; // 아이디 부여

        let clone = roller.cloneNode(true)
        // cloneNode : 노드 복제. 기본값은 false. 자식 노드까지 복제를 원하면 true 사용
        clone.id = 'roller2';
        document.querySelector('.wrap').appendChild(clone); // wrap 하위 자식으로 부착

        document.querySelector('#roller1').style.left = '0px';
        document.querySelector('#roller2').style.left = document.querySelector('.rolling-list ul').offsetWidth + 'px';
        // offsetWidth : 요소의 크기 확인(margin을 제외한 padding값, border값까지 계산한 값)
        roller.classList.add('original');
        clone.classList.add('clone');
    </script>

    <script>
        // ----------------------- 1_main 기능 구현 -----------------------
        // 로그인된 사용자의 계정 정보
        let loginUser = getLoginAccount();

        // 메인화면
        const login = document.querySelector("#login");
        LoginAndOut(login);
        OnLogin();




        const hotel = document.querySelector("#hotel");
        hotel.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = { "check": [{ "say": "hotel" }] };
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });

        // TODO 추후에 액티비티 지역 설정 페이지 필요
        const activity = document.querySelector("#activity");
        activity.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = { "check": [{ "say": "activity" }] };
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });

        const trans = document.querySelector("#trans");
        trans.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = { "check": [{ "say": "trans" }] };
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });

        const food = document.querySelector("#food");
        food.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = { "check": [{ "say": "food" }] };
            localStorage.setItem("checked", JSON.stringify(checkStatus));
        });
        const wishlist = document.querySelector("#wishlist");
        wishlist.addEventListener("click", function () {
            window.open("5_wishlist.html", "_self");
        });
        const mytrip = document.querySelector("#mytrip");
        mytrip.addEventListener("click", function () {
            window.open("6-1_ActivityTransFood_reservation.html", "_self");
        });
        const searchBtnEl = document.querySelector("#searchBtn");
        searchBtnEl.addEventListener("click", function () {
            window.open("4_totalSearch.html", "_self");
            let checkStatus = { "check": [{ "say": "hotel activity trans food" }] };
            localStorage.setItem("checked", JSON.stringify(checkStatus));

            let keyword = document.querySelector("#keyword");
            localStorage.setItem("navInfo", JSON.stringify([departDate.value, arriveDate.value, keyword.value]));
        })


        // 검색창 현재날짜와 7일 후의 날짜 보이게 하기
        const departDate = document.querySelector("#departDate");
        const arriveDate = document.querySelector("#arriveDate");
        // 현재날짜 변수로 선언해서 가져오기
        const today = new Date();

        // 7일 후를 보이게 하기위한 변수 선언
        const oneWeek = new Date(today);
        oneWeek.setDate(oneWeek.getDate() + 7);

        // 현재 날짜와 7일 후의 날짜를 포맷
        departDate.value = formatDate(today);
        arriveDate.value = formatDate(oneWeek);


        // 함수를 만들어 년, 월, 일을 리턴해줌
        function formatDate(date) {
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, "0");
            const day = date.getDate().toString().padStart(2, "0"); // 일이 10 미만일 때 앞에 0을 추가하여 두 자리로 만듭니다.
            return `${year}-${month}-${day}`;
        }

        // 로그인 여부에 따라 우측 상단 로그인 버튼 문구 교체
        function OnLogin() {
            if (loginUser == null) {
                login.textContent = "로그인";
            } else {
                login.textContent = "로그아웃";
            }
        }

    </script>
</body>

</html>